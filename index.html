<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>오르樂별 웹앱 데모</title>

  <!-- 예쁜 한글 폰트(가벼운 앱 느낌) -->
  <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --ink:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --shadow: 0 10px 30px rgba(0,0,0,.08);
      --radius: 18px;
    }

/* 참여중인 오름: 3열 그리드 + 금오름 강조 */
.oreum-grid{
  margin-top: 8px;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 8px 12px; /* 세로, 가로 간격 */
  font-weight: 900;
  line-height: 1.25;
}

.oreum-grid span{
  display: block;
  color: var(--ink); /* 기본 검정 */
  white-space: nowrap; /* 줄바꿈 방지 */
}

.oreum-grid span.active{
  color: #e11d48; /* 진분홍(로즈 계열) */
}

.tappable,
.navItem,
button{
  cursor: pointer;
}
    
    
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Pretendard, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
      color:var(--ink);
      background: var(--bg);
    }

    /* 앱 프레임 (전시용 폰 화면 느낌) */
    .app{
      max-width: 420px;
      margin: 18px auto;
      padding: 14px;
    }
    .phone{
      position: relative;
      background: var(--bg);
      border-radius: 28px;
      box-shadow: var(--shadow);
      overflow: hidden;
      min-height: 780px;
    }

    /* 화면 전환 */
    .screen{
      display:none;
      padding-bottom: 84px; /* bottom nav 공간 */
      min-height: 780px;
    }
    .screen.active{display:block;}

    /* 상단바 */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 16px 16px 10px;
    }
    .title{
      font-size: 16px;
      font-weight: 700;
      letter-spacing: -0.2px;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
      max-width: 280px;
    }
    .top-icons{
      display:flex;
      gap: 10px;
      align-items:center;
    }
    .iconbtn{
      width: 34px;
      height: 34px;
      display:grid;
      place-items:center;
      border-radius: 12px;
      background:#fff;
      border:1px solid var(--line);
    }
    .iconbtn svg{
      width: 20px;
      height: 20px;
      overflow: visible; /* 아이콘 잘림 방지 */
    }

    /* 카드 */
    .card{
      margin: 0 16px 12px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: 0 6px 18px rgba(0,0,0,.05);
    }
    .cardPad{ padding: 14px; }

    .row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .subtle{ color: var(--muted); font-size: 13px; }
    .meta{ color: var(--muted); font-size: 14px; line-height: 1.35; }

    /* 화면1: 원형 펄스 */
    .hero{
      padding: 28px 16px 10px;
      text-align:center;
    }
    .hero h1{
      margin: 6px 0 6px;
      font-size: 20px;
      letter-spacing:-0.3px;
    }
    .hero p{
      margin:0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.4;
    }
    .pulseWrap{
      margin: 22px auto 14px;
      width: 190px;
      height: 190px;
      display:grid;
      place-items:center;
      position:relative;
    }
    .pulseCircle{
      width: 118px;
      height: 118px;
      border-radius: 999px;
      background: #ffffff;
      border: 1px solid var(--line);
      box-shadow: 0 12px 22px rgba(0,0,0,.08);
      display:grid;
      place-items:center;
      font-weight: 800;
      letter-spacing: -0.3px;
    }
    .pulseRing{
      position:absolute;
      inset: 0;
      border-radius: 999px;
      border: 2px solid rgba(17,24,39,.12);
      animation: pulse 1.6s ease-in-out infinite;
    }
    .pulseRing:nth-child(1){ transform: scale(.85); opacity:.55; }
    .pulseRing:nth-child(2){ transform: scale(1.05); opacity:.35; animation-delay:.25s; }
    .pulseRing:nth-child(3){ transform: scale(1.25); opacity:.2; animation-delay:.45s; }

    @keyframes pulse{
      0%{ transform: scale(.9); opacity:.55; }
      50%{ transform: scale(1.05); opacity:.25; }
      100%{ transform: scale(.9); opacity:.55; }
    }

    .primaryBtn{
      width: calc(100% - 32px);
      margin: 8px 16px 0;
      padding: 14px 14px;
      border:none;
      border-radius: 14px;
      background:#111827;
      color:#fff;
      font-weight: 800;
      letter-spacing: -0.2px;
      cursor:pointer;
    }

    /* 화면2: 홈(요청 반영) */
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background:#fff;
      font-size: 13px;
      color: #111827;
      font-weight: 700;
    }
    .chip small{font-weight:700;color:var(--muted)}
    .midCard{
  display:flex;
  flex-direction: column;     /* ✅ 가로 → 세로 */
  align-items:center;         /* ✅ 가운데 정렬 */
  text-align:center;          /* ✅ 글씨 가운데 */
  gap: 10px;
  padding: 16px 14px 14px;
}
/* ===== 오름인증: 5개 도장 카드 스와이프 ===== */
.stampCarousel{
  display:flex;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling: touch;
  gap: 12px;
  padding: 14px;
}
.stampCarousel::-webkit-scrollbar{ display:none; }

.stampCard{
  min-width: 82%;
  scroll-snap-align: center;
  background:#fff;
  border:1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: 0 8px 20px rgba(0,0,0,.06);
  padding: 18px 14px 16px;
  text-align:center;
}

.stampImg{
  width: 108px;
  height: 108px;
  border-radius: 999px;   /* 원형 유지 */
  object-fit: cover;
  display:block;
  margin: 2px auto 10px;
  /* ✅ 테두리/둥근사각 프레임 만들지 않음 */
}

.stampKicker{
  color: var(--muted);
  font-size: 12px;
  font-weight: 800;
  margin-bottom: 6px;
}
.stampPlace{
  font-size: 20px;
  font-weight: 900;
  letter-spacing:-0.3px;
  margin-bottom: 4px;
}
.stampMeta{
  color: var(--muted);
  font-size: 13px;
  line-height: 1.35;
}

/* 페이지 점(인디케이터) */
.stampDots{
  display:flex;
  justify-content:center;
  gap: 6px;
  padding: 0 0 12px;
}
.stampDot{
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: #d1d5db;
}
.stampDot.active{
  background:#111827;
}

    
   .midIcon{
  width: 120px;               /* ✅ 더 크게 */
  height: 120px;
  border: none;               /* ✅ 테두리 제거 */
  background: transparent;    /* ✅ 배경 제거 */
  border-radius: 0;           /* ✅ 둥근사각 제거 */
  box-shadow: none;
  display:grid;
  place-items:center;
  overflow: visible;          /* ✅ 이미지 잘림 방지 */
  flex: 0 0 auto;
}
    .midIcon img{
  width: 100%;
  height: 100%;
  object-fit: contain;        /* ✅ 잘리지 않게 */
  display:block;
}

    .midText .kicker{
      color: var(--muted);
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .midText .place{
      font-size: 18px;
      font-weight: 900;
      letter-spacing:-0.3px;
      margin-bottom: 2px;
    }
.midText{
  width: 100%;
  display:flex;
  flex-direction: column;
  align-items: center;
}
    
    .actions{
      display:flex;
      gap: 10px;
      padding: 12px 14px 14px;
      border-top: 1px solid var(--line);
    }
    .actionBtn{
      flex:1;
      background:#fff;
      border:1px solid var(--line);
      border-radius: 14px;
      padding: 10px 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      font-weight: 800;
      cursor:pointer;
    }
    .actionBtn svg{ width:18px; height:18px; }

    /* 하단 내비게이션 */
    .bottomnav{
      position: absolute;
      left:0; right:0; bottom:0;
      height: 74px;
      background:#fff;
      border-top:1px solid var(--line);
      display:flex;
      align-items:center;
      justify-content:space-around;
      padding: 8px 8px 10px;
    }

/* ===== 화면5(오름적립) : 도장 5개 그리드 ===== */
.stampGrid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px 12px;
}

.stampTile{
  margin:0;
  background:#fff;
  border:1px solid var(--line);
  border-radius: 18px;
  padding: 14px 12px 12px;
  text-align:center;
  box-shadow: 0 8px 18px rgba(0,0,0,.05);
}

.stampTile img{
  width: 92px;
  height: 92px;
  object-fit: cover;
  border-radius: 999px;
  display:block;
  margin: 0 auto 10px;
  border: none;            /* 테두리 일부러 만들지 않음 */
}

.stampTile figcaption{
  font-weight: 900;
  letter-spacing:-0.2px;
  font-size: 14px;
}





    
    .navItem{
      width: 20%;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap: 4px;
      color: var(--muted);
      font-size: 11.5px;
      font-weight: 700;
      user-select:none;
    }
    .navItem svg{ width: 22px; height: 22px; }
    .navItem.active{ color:#111827; }
    .navItem.tappable{ cursor:pointer; } /* 손모양 */

    /* 더보기(점3개) - 오른쪽 하단 강조 */
    .navMoreIcon{
      width: 22px; height:22px;
      display:grid; place-items:center;
    }

    /* 화면3: 더보기 */
    .profileCard{
      display:flex;
      align-items:center;
      gap: 14px;
      padding: 14px;
    }
    .bronzeBadge{
      width: 56px; height: 56px;
      border-radius: 999px;
      display:grid;
      place-items:center;
      color:#fff;
      font-weight: 900;
      letter-spacing: -0.5px;
      background: radial-gradient(circle at 30% 30%, #ffd6a3, #b5672e 55%, #7a3d12 100%);
      border: 1px solid rgba(0,0,0,.08);
      box-shadow: 0 10px 18px rgba(0,0,0,.10);
      flex: 0 0 auto;
    }
    .profileText .label{
      font-size: 13px;
      font-weight: 800;
      color:#111827;
      letter-spacing:-0.2px;
    }
    .profileText .id{
      margin-top: 6px;
      font-size: 20px;
      font-weight: 900;
      letter-spacing: 0.5px;
    }

    .menuGrid{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      padding: 14px;
    }
    .menuItem{
      background:#fff;
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 12px 12px;
      display:flex;
      align-items:center;
      gap: 10px;
      cursor:pointer;
    }
    .menuItem svg{ width:22px; height:22px; color:#111827; }
    .menuItem .txt{
      font-weight: 900;
      letter-spacing:-0.2px;
    }

/* ===== (추가) 공통 버튼/커서 개선 ===== */
.tappable { cursor: pointer; }

/* ===== (추가) 모달(스탬프 코인 쌓기) ===== */
.modal{
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}
.modal.show{ display:flex; }
.modalDim{
  position:absolute; inset:0;
  background: rgba(0,0,0,.35);
}
.modalCard{
  position: relative;
  width: min(360px, calc(100% - 40px));
  background:#fff;
  border:1px solid var(--line);
  border-radius: 18px;
  box-shadow: var(--shadow);
  padding: 16px;
}
.modalTitle{ font-weight: 900; font-size: 16px; letter-spacing:-.2px; }
.modalSub{ margin-top:6px; color:var(--muted); font-size: 12.5px; }
.modalActions{
  margin-top: 14px;
  display:flex;
  gap:10px;
  justify-content:flex-end;
}
.ghostBtn, .primaryMini{
  border-radius: 12px;
  padding: 10px 12px;
  font-weight: 900;
  border:1px solid var(--line);
  background:#fff;
}
.primaryMini{
  background:#111827;
  color:#fff;
  border-color:#111827;
}
.coinStack{
  margin-top: 14px;
  height: 110px;
  position: relative;
  display:flex;
  align-items:flex-end;
  justify-content:center;
}
.coinStack img{
  width: 56px;
  height: 56px;
  position: absolute;
  bottom: 0;
  filter: drop-shadow(0 8px 10px rgba(0,0,0,.12));
  transform: translateY(30px) scale(.9);
  opacity: 0;
  animation: coinDrop .45s ease forwards;
}
@keyframes coinDrop{
  to { transform: translateY(0) scale(1); opacity: 1; }
}

/* ===== (추가) AR 화면 ===== */
.arStage{
  position: relative;
  height: 700px;
  margin: 0 16px 16px;
  border-radius: 18px;
  overflow: hidden;
  background:#000;
  border:1px solid var(--line);
}
#arVideo{
  width:100%;
  height:100%;
  object-fit: cover;
  display:block;
}
.arHud{
  position:absolute;
  left: 12px;
  right: 12px;
  top: 12px;
  display:flex;
  justify-content:space-between;
  gap: 10px;
  z-index: 5;
}
.arChip{
  flex: 1;
  display:flex;
  align-items:center;
  gap: 8px;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(229,231,235,.9);
  border-radius: 999px;
  padding: 10px 12px;
  font-weight: 800;
  font-size: 12.5px;
}
.arChip .dot{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: #22c55e;
}
.pointChip{
  display:flex;
  align-items:center;
  gap: 8px;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(229,231,235,.9);
  border-radius: 999px;
  padding: 10px 12px;
  font-weight: 900;
  font-size: 12.5px;
}
.pointChip img{ width:16px; height:16px; object-fit:contain; }

/* 요정/구름 버튼 (AR 오브젝트) */
.fairy, .cloud{
  position:absolute;
  z-index: 6;
  border: none;
  background: transparent;
  padding: 0;
}
.fairy{
  width: 86px;
  height: 86px;
}
.fairy img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  display:block;
  filter: drop-shadow(0 10px 14px rgba(0,0,0,.35));
}
.cloud{
  width: 64px;
  height: 64px;
  display: none;
  place-items: center;
  border-radius: 999px;
  background: rgba(255,255,255,.92);
  border:1px solid rgba(229,231,235,.9);
  box-shadow: 0 10px 20px rgba(0,0,0,.15);
  font-size: 26px;
}

/* 팝업(별자리/신화/포인트) 카드 UI */
.popup{
  position:absolute;
  inset: 0;
  display:none;
  align-items: center;
  justify-content: center;
  z-index: 20;
  background: rgba(0,0,0,.35);
}
.popup.show{ display:flex; }
.popupCard{
  width: min(360px, calc(100% - 40px));
  background: rgba(255,255,255,.98);
  border: 1px solid rgba(229,231,235,.95);
  border-radius: 18px;
  box-shadow: var(--shadow);
  padding: 16px;
}
.popupTitle{
  font-size: 16px;
  font-weight: 900;
  letter-spacing:-.2px;
}
.popupBody{
  margin-top: 10px;
  color:#111827;
  font-size: 13.5px;
  line-height: 1.5;
  white-space: pre-line;
}
.popupActions{
  margin-top: 14px;
  display:flex;
  gap: 10px;
  justify-content:flex-end;
}

/* 3번 화면 topbar 글씨/아이콘 잘림 보정 */
#screen-more .title{ font-size: 16px; font-weight: 900; }
#screen-more .iconbtn svg{ width:20px; height:20px; }




    
  </style>

  
</head>

<body>
  <div class="app">
    <div class="phone">

      <!-- 화면 1 -->
      <section id="screen-1" class="screen active">
        <div class="hero">
          <h1>오르樂별 NFC 체험</h1>
          <p>가운데 원을 터치하면 “홈(오름인증)” 화면으로 넘어갑니다</p>

          <div class="pulseWrap">
            <div class="pulseRing"></div>
            <div class="pulseRing"></div>
            <div class="pulseRing"></div>
            <div class="pulseCircle">TAP</div>
          </div>
        </div>

        <button class="primaryBtn" id="goHomeBtn">체험 시작</button>

        <div class="card cardPad" style="margin-top:14px;">
          <div class="subtle">전시용 안내</div>
          <div style="margin-top:6px; font-weight:900;">
            NFC 또는 QR로 웹앱이 열리는 데모입니다.
          </div>
        </div>
      </section>

      <!-- 화면 2 (홈) -->
      <section id="screen-home" class="screen">
        <div class="topbar">
          <div class="title">오르樂별 : 탐라 스타로드</div>
          <div class="top-icons">
            <div class="iconbtn" title="쿠폰(예시)">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 0 0 4v3a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-3a2 2 0 0 0 0-4V7z"/>
                <path d="M9 9h.01M15 15h.01"/>
              </svg>
            </div>
            <div class="iconbtn" title="알림(예시)">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 1 0-12 0v3.2a2 2 0 0 1-.6 1.4L4 17h5"/>
                <path d="M9 17a3 3 0 0 0 6 0"/>
              </svg>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="cardPad row">
            <div class="chip"><small>적립중인</small> 오름인증</div>
            <div class="chip"><small>스탬프</small> 0 / 5</div>
          </div>
<!-- ✅ 오름인증 카드 스와이프(가로 넘김) -->
<div id="stampCarousel" class="stampCarousel">
  <article class="stampCard" data-name="금오름">
    <img class="stampImg" src="geumoreum.png" alt="geumoreum" />
    <div class="stampKicker">오름인증</div>
    <div class="stampPlace">금오름</div>
    <div class="stampMeta">NFC 도장 터치 시<br/>스탬프 1개 적립</div>
  </article>

  <article class="stampCard" data-name="새별오름">
    <img class="stampImg" src="saebyeoloreum.png" alt="saebyeoloreum" />
    <div class="stampKicker">오름인증</div>
    <div class="stampPlace">새별오름</div>
    <div class="stampMeta">NFC 도장 터치 시<br/>스탬프 1개 적립</div>
  </article>

  <article class="stampCard" data-name="아부오름">
    <img class="stampImg" src="abuoreum.png" alt="abuoreum" />
    <div class="stampKicker">오름인증</div>
    <div class="stampPlace">아부오름</div>
    <div class="stampMeta">NFC 도장 터치 시<br/>스탬프 1개 적립</div>
  </article>

    <article class="stampCard" data-name="백약이오름">
    <img class="stampImg" src="baegyakioreum.png" alt="baegyakioreum" />
    <div class="stampKicker">오름인증</div>
    <div class="stampPlace">백약이오름</div>
    <div class="stampMeta">NFC 도장 터치 시<br/>스탬프 1개 적립</div>
  </article>

    <article class="stampCard" data-name="다랑쉬오름">
    <img class="stampImg" src="darangshioreum.png" alt="darangshioreum" />
    <div class="stampKicker">오름인증</div>
    <div class="stampPlace">다랑쉬오름</div>
    <div class="stampMeta">NFC 도장 터치 시<br/>스탬프 1개 적립</div>
  </article>


  
</div>

<!-- 점(인디케이터) -->
<div class="stampDots" id="stampDots">
  <span class="stampDot active"></span>
  <span class="stampDot"></span>
  <span class="stampDot"></span>
  <span class="stampDot"></span>
  <span class="stampDot"></span>
</div>

         

          <div class="actions">
            <button class="actionBtn" type="button">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 5v14M5 12h14"/>
              </svg>
              스탬프
            </button>
            
           <button class="actionBtn" type="button" id="btnGuide">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 15a4 4 0 0 1-4 4H7l-4 3V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/>
  </svg>
  안내
</button>

          </div>
        </div>

<div class="card cardPad">
  <div class="subtle">참여중인 오름</div>

  <div class="oreum-grid" aria-label="참여중인 오름 목록">
    <span class="active">금오름</span>
    <span>새별오름</span>
    <span>아부오름</span>
    <span>다랑쉬오름</span>
    <span>백약이오름</span>
  </div>
</div>


        
      </section>

      <!-- 화면 3 (더보기) -->
      <section id="screen-more" class="screen">
        <div class="topbar">
          <div class="title">더보기</div>
          <div class="top-icons">
            <div class="iconbtn" title="설정">
              <!-- 톱니(설정) 아이콘: viewBox/overflow로 잘림 방지 -->
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"/>
                <path d="M19.4 15a7.9 7.9 0 0 0 .1-1 7.9 7.9 0 0 0-.1-1l2-1.6-2-3.4-2.4 1a7.5 7.5 0 0 0-1.7-1l-.4-2.6h-4l-.4 2.6a7.5 7.5 0 0 0-1.7 1l-2.4-1-2 3.4 2 1.6a7.9 7.9 0 0 0-.1 1 7.9 7.9 0 0 0 .1 1l-2 1.6 2 3.4 2.4-1c.5.4 1.1.7 1.7 1l.4 2.6h4l.4-2.6c.6-.3 1.2-.6 1.7-1l2.4 1 2-3.4-2-1.6z"/>
              </svg>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="profileCard">
            <div class="bronzeBadge">B</div>
            <div class="profileText">
              <div class="label">회원 고유번호</div>
              <div class="id" id="memberId">0000000000</div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="menuGrid">
            <div class="menuItem">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 3v18h18"/>
                <path d="M7 14l4-4 4 3 5-7"/>
              </svg>
              <div class="txt">이용현황</div>
            </div>
            <div class="menuItem">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 0 0 4v3a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-3a2 2 0 0 0 0-4V7z"/>
              </svg>
              <div class="txt">내쿠폰함</div>
            </div>
            <div class="menuItem">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
              </svg>
              <div class="txt">북마크</div>
            </div>
            <div class="menuItem">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 20h9"/>
                <path d="M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/>
              </svg>
              <div class="txt">도입/요청</div>
            </div>
            <div class="menuItem">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 6h16"/>
                <path d="M4 12h16"/>
                <path d="M4 18h16"/>
              </svg>
              <div class="txt">공지사항</div>
            </div>
            <div class="menuItem">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 12v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-6"/>
                <path d="M12 3v13"/>
                <path d="M7 8l5-5 5 5"/>
              </svg>
              <div class="txt">프로모션</div>
            </div>
            <div class="menuItem" style="grid-column: 1 / span 2;">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15a4 4 0 0 1-4 4H7l-4 3V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/>
              </svg>
              <div class="txt">고객센터</div>
            </div>
          </div>
        </div>
      </section>

<!-- 화면 4 (AR 체험) -->
<section id="screen-ar" class="screen">
  <div class="topbar">
    <div class="title">AR 체험</div>
    <div class="top-icons">
      <button class="iconbtn tappable" id="btnArClose" title="닫기" type="button">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 6L6 18M6 6l12 12"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="arStage">
    <!-- 카메라 -->
    <video id="arVideo" autoplay playsinline muted></video>

    <!-- 오버레이 UI -->
    <div class="arHud">
      <div class="arChip">
        <span class="dot"></span>
        카메라 ON · 동백요정을 눌러보세요
      </div>

     <div class="pointChip">
  <img src="coin2.png" alt="coin">
  포인트 <b id="pointValue">0</b>P
</div>

    </div>

    <!-- 요정(클릭 대상) -->
<button id="fairy" class="fairy tappable" type="button" aria-label="CamelliaFairy1">
  <img src="CamelliaFairy1.png" alt="CamelliaFairy1">
</button>




    

    <!-- 구름(시간 지연 후 등장) -->
    <button id="cloud" class="cloud tappable" type="button" aria-label="구름 아이콘">
        ☁
    </button>

    <!-- 팝업(공통) -->
    <div id="popup" class="popup" aria-hidden="true">
      <div class="popupCard">
        <div class="popupTitle" id="popupTitle">제목</div>
        <div class="popupBody" id="popupBody">내용</div>

        <div class="popupActions">
          <button class="ghostBtn tappable" id="popupClose" type="button">닫기</button>
          <button class="primaryMini tappable" id="popupNext" type="button">다 읽었어요</button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 화면 5 (오름적립: 5개 도장) -->
<section id="screen-stamps" class="screen">
  <div class="topbar">
    <div class="title">오름적립</div>
    <div class="top-icons">
      <button class="iconbtn tappable" id="btnStampsClose" title="닫기" type="button">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 6L6 18M6 6l12 12"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="card cardPad">
    <div style="font-weight:900; letter-spacing:-.2px;">내 오름 도장</div>
    <div class="subtle" style="margin-top:6px;">획득한 도장 5개를 한눈에 보여주는 전시용 화면입니다.</div>
  </div>

  <div class="card cardPad">
    <div class="stampGrid" aria-label="오름 도장 5개">
      <figure class="stampTile">
        <img src="geumoreum.png" alt="금오름 도장" />
        <figcaption>금오름</figcaption>
      </figure>

      <figure class="stampTile">
        <img src="saebyeoloreum.png" alt="새별오름 도장" />
        <figcaption>새별오름</figcaption>
      </figure>

      <figure class="stampTile">
        <img src="abuoreum.png" alt="아부오름 도장" />
        <figcaption>아부오름</figcaption>
      </figure>

      <figure class="stampTile">
        <img src="darangshioreum.png" alt="다랑쉬오름 도장" />
        <figcaption>다랑쉬오름</figcaption>
      </figure>

      <figure class="stampTile">
        <img src="baegyakioreum.png" alt="백약이오름 도장" />
        <figcaption>백약이오름</figcaption>
      </figure>
    </div>
  </div>
</section>


      


      

      <!-- 하단 내비게이션(모든 화면 공통으로 고정) -->
      <nav class="bottomnav" aria-label="Bottom Navigation">
        <div class="navItem tappable" id="navHome">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 10.5L12 3l9 7.5"/>
            <path d="M5 10v10h14V10"/>
          </svg>
          <div>홈</div>
        </div>

        <div class="navItem tappable" id="navStamps">
          <!-- 회색 테두리 산모양 + 오름적립 -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 19h18"/>
            <path d="M6 19l6-10 6 10"/>
            <path d="M10 12l2-3 2 3"/>
          </svg>
          <div>오름적립</div>
        </div>

        <div class="navItem">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 21s8-4.5 8-11a8 8 0 1 0-16 0c0 6.5 8 11 8 11z"/>
            <path d="M12 11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/>
          </svg>
          <div>지도</div>
        </div>

        <!-- ✅ 오른쪽 하단 “점3개 + 더보기” : 클릭/손모양/화면전환 핵심 -->
        <div class="navItem tappable active" id="navMore">
          <div class="navMoreIcon" aria-hidden="true">
            <!-- 점3개 아이콘 -->
            <svg viewBox="0 0 24 24" fill="currentColor">
              <circle cx="6" cy="12" r="1.8"></circle>
              <circle cx="12" cy="12" r="1.8"></circle>
              <circle cx="18" cy="12" r="1.8"></circle>
            </svg>
          </div>
          <div>더보기</div>
        </div>
      </nav>

    </div>
  </div>

<script>
  /* ====== 화면 전환 공통 ====== */
  const screens = {
    s1: document.getElementById('screen-1'),
    home: document.getElementById('screen-home'),
    more: document.getElementById('screen-more'),
    ar: document.getElementById('screen-ar'),
    stamps: document.getElementById('screen-stamps'),
  };

  function showScreen(name){
    Object.values(screens).forEach(el => el && el.classList.remove('active'));
    screens[name] && screens[name].classList.add('active');
  }

  /* ====== 1번 → 2번 (체험 시작) ====== */
  const goHomeBtn = document.getElementById('goHomeBtn');
  if (goHomeBtn){
    goHomeBtn.addEventListener('click', () => showScreen('home'));
  }

  /* ====== 2번(홈) 안내 버튼 → 4번(AR) ====== */
  const btnGuide = document.getElementById('btnGuide');

  /* 카메라 요소 */
  const arVideo = document.getElementById('arVideo');
  const btnArClose = document.getElementById('btnArClose');

  /* 오버레이 인터랙션 */
  const fairy = document.getElementById('fairy');
  const cloud = document.getElementById('cloud');

  /* 팝업 */
  const popup = document.getElementById('popup');
  const popupTitle = document.getElementById('popupTitle');
  const popupBody = document.getElementById('popupBody');
  const popupClose = document.getElementById('popupClose');
  const popupNext = document.getElementById('popupNext');

  /* 포인트 */
  const pointValueEl = document.getElementById('pointValue');
  let points = 0;

  /* 카메라 스트림 */
  let mediaStream = null;
  let cloudTimer = null;

  function openPopup(title, body, showNext=true){
    popupTitle.textContent = title;
    popupBody.textContent = body;
    popupNext.style.display = showNext ? 'inline-flex' : 'none';
    popup.classList.add('show');
    popup.setAttribute('aria-hidden','false');
  }
  function closePopup(){
    popup.classList.remove('show');
    popup.setAttribute('aria-hidden','true');
  }

  async function startCamera(){
    try{
      // iOS/모바일에서 백카메라 우선 (가능하면)
      mediaStream = await navigator.mediaDevices.getUserMedia({
        video: { facingMode: { ideal: 'environment' } },
        audio: false
      });
      arVideo.srcObject = mediaStream;

      // 3초 후 구름 등장(신화 트리거)
      cloud.style.display = 'none';
      if (cloudTimer) clearTimeout(cloudTimer);
      cloudTimer = setTimeout(() => {
        cloud.style.display = 'grid';
      }, 3000);

    }catch(err){
      openPopup(
        '카메라 권한이 필요해요',
        '브라우저에서 카메라 권한을 허용해야 AR 체험 화면이 동작합니다.\n(주소창 왼쪽 자물쇠 아이콘 → 권한에서 카메라 허용)',
        false
      );
    }
  }

  function stopCamera(){
    if (cloudTimer) clearTimeout(cloudTimer);
    cloud.style.display = 'none';

    if (mediaStream){
      mediaStream.getTracks().forEach(t => t.stop());
      mediaStream = null;
    }
    if (arVideo) arVideo.srcObject = null;
  }

  if (btnGuide){
    btnGuide.addEventListener('click', async () => {
      showScreen('ar');
      await startCamera();
    });
  }

  if (btnArClose){
    btnArClose.addEventListener('click', () => {
      stopCamera();
      showScreen('home');
    });
  }

  /* ====== 요정 클릭 → 황소자리 팝업 ====== */
  let fairyRead = false;
  fairy?.addEventListener('click', () => {
    openPopup(
      '황소자리 · 풍요와 힘의 상징',
      '“풍요와 힘의 상징, 금빛 오름의 수호 별자리”\n\nCamelliaFairy가 금오름 위 별빛을 모아 길을 안내합니다.'
    );
    fairyRead = true;
  });

  /* ====== 구름 클릭 → 신화 이야기 팝업 ====== */
  let storyRead = false;
  cloud?.addEventListener('click', () => {
    openPopup(
      '신화 이야기',
      '금오름 아래에는 오래전부터 “황금 바위”가 묻혀 있었다고 해요.\n\n사람들의 욕심이 그 바위를 깨우지 않도록, 수호신은 구름의 모습으로 나타나 바위를 지켰고,\n별빛 요정은 길을 잃은 이들을 안전하게 이끕니다.\n\n(끝까지 읽으면 포인트가 적립됩니다)'
    );
    storyRead = true;
  });

  /* ====== 팝업 닫기/다 읽었어요 ====== */
  popupClose?.addEventListener('click', closePopup);

  popupNext?.addEventListener('click', () => {
    closePopup();

    // “별자리(요정) + 신화(구름)” 둘 다 읽은 뒤 포인트 적립
    if (fairyRead && storyRead){
     addPoints(100);


      // 한 번 적립되면 반복 적립 방지(원하면 제거 가능)
      fairyRead = false;
      storyRead = false;

      openPopup(
        '포인트 적립 완료!',
        '신화 이야기를 모두 확인하여 100P가 적립되었습니다.',
        false
      );
    }
  });

  /* ====== 손모양 커서: JS가 아니라 CSS에서 처리(이미 추가함) ====== */

/* ===== (추가) 홈 상단 포인트/스탬프 동기화 ===== */
const homePointEl = document.getElementById('homePoint');
const stampCountEl = document.getElementById('stampCount');
let stampCount = 0;

function syncHome(){
  if (homePointEl) homePointEl.textContent = String(points);
  if (stampCountEl) stampCountEl.textContent = String(stampCount);
}

/* 최초 1회 */
syncHome();

/* ===== (추가) 스탬프(+) 버튼 → coin1 5개 쌓기 모달 ===== */
const btnStamp = document.getElementById('btnStamp');
const coinModal = document.getElementById('coinModal');
const coinStack = document.getElementById('coinStack');
const closeCoinModal = document.getElementById('closeCoinModal');
const confirmCoin = document.getElementById('confirmCoin');

function openCoinModal(){
  if (!coinModal || !coinStack) return;
  coinStack.innerHTML = '';
  coinModal.classList.add('show');
  coinModal.setAttribute('aria-hidden','false');

  // coin1.png 5개가 순서대로 쌓이게
  for(let i=0;i<5;i++){
    const img = document.createElement('img');
    img.src = 'coin1.png';
    img.alt = 'coin1';
    img.style.left = (50 + (Math.random()*10-5)) + '%';
    img.style.transform = `translateX(-50%) translateY(${30 + i*3}px) scale(${0.95 + i*0.02})`;
    img.style.animationDelay = `${i*0.12}s`;
    img.style.zIndex = String(10+i);
    coinStack.appendChild(img);
  }
}

function closeCoin(){
  if (!coinModal) return;
  coinModal.classList.remove('show');
  coinModal.setAttribute('aria-hidden','true');
}

btnStamp?.addEventListener('click', openCoinModal);
closeCoinModal?.addEventListener('click', closeCoin);
coinModal?.querySelector('.modalDim')?.addEventListener('click', closeCoin);

confirmCoin?.addEventListener('click', () => {
  // 전시용: 확인 누르면 스탬프 1 증가(최대 5)
  stampCount = Math.min(5, stampCount + 1);
  syncHome();
  closeCoin();
});

/* ===== (추가) AR 오브젝트(요정/구름) 위치 랜덤 살짝 이동 ===== */
function clamp(v,min,max){ return Math.max(min, Math.min(max,v)); }

// 기본 위치(퍼센트)
let fairyPos = { x: 68, y: 62 };  // 우하단 근처
let cloudPos = { x: 26, y: 40 };  // 좌중단 근처

function applyPos(){
  if (fairy){
    fairy.style.left = fairyPos.x + '%';
    fairy.style.top  = fairyPos.y + '%';
  }
  if (cloud){
    cloud.style.left = cloudPos.x + '%';
    cloud.style.top  = cloudPos.y + '%';
  }
}
applyPos();

// 700ms마다 아주 살짝 흔들리듯 이동
setInterval(() => {
  fairyPos.x = clamp(fairyPos.x + (Math.random()*2-1)*1.2, 8, 88);
  fairyPos.y = clamp(fairyPos.y + (Math.random()*2-1)*1.2, 16, 82);

  cloudPos.x = clamp(cloudPos.x + (Math.random()*2-1)*1.0, 8, 88);
  cloudPos.y = clamp(cloudPos.y + (Math.random()*2-1)*1.0, 16, 82);

  applyPos();
}, 700);

/* ===== (수정) 포인트 적립이 홈에도 반영되도록 syncHome 호출 ===== */
const _oldPopupNext = popupNext?.onclick; // 혹시 기존 onclick을 쓰는 경우 대비

popupNext?.addEventListener('click', () => {
  // 기존 로직이 이미 addEventListener로 붙어 있으니,
  // 여기서는 “포인트가 바뀐 후 홈도 반영”만 추가로 보장합니다.
  syncHome();
});

/* ===== (추가) 포인트 적립될 때 홈에도 즉시 반영되도록: 기존 points 증가 직후에도 호출 ===== */
/* 아래는 안전장치: points 값이 바뀔 때마다 syncHome를 호출할 수 있게 setPoint 헬퍼 */
function addPoints(p){
  points += p;
  if (pointValueEl) pointValueEl.textContent = String(points);
  syncHome();
}


/* ===== 2번 화면 하단 네비게이션 ===== */

// 홈 버튼 → 1번 화면
const navHome = document.getElementById('navHome');
navHome?.addEventListener('click', () => {
  showScreen('s1');   // 1번 화면 id
});

// 더보기 버튼(점3개) → 3번 화면
const navMore = document.getElementById('navMore');
navMore?.addEventListener('click', () => {
  showScreen('more'); // 3번 화면 id
});

  // 오름적립 버튼 → 5번 화면
const navStamps = document.getElementById('navStamps');
navStamps?.addEventListener('click', () => {
  showScreen('stamps');
});

// (옵션) 오름적립 화면 닫기 버튼 → 홈으로
const btnStampsClose = document.getElementById('btnStampsClose');
btnStampsClose?.addEventListener('click', () => showScreen('home'));












</script>




  
</body>
</html>
